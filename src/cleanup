#!/bin/bash
set -e

# TODO: SMUD, FORPD

# Check for summary files without corresponding minutes files
for check_dir in "docs/SJWD" "docs/FOWD" "docs/SJUSD" "docs/LRCCD" "docs/SCOE" "docs/SMFD"; do
    find "$check_dir" -type f -name "summary.md" | sort | while read -r summary_file; do
        dir=$(dirname "$summary_file")
        if ! find "$dir" -maxdepth 1 -type f -iname "*minutes*.md" | grep -q .; then
            echo "WARNING: $dir has summary.md but no minutes file"
            rm "$summary_file"
        fi
    done
done




